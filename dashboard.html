<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaaSquatch Leads Dashboard</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
            <style>
                body { 
                    margin: 0; 
                    padding: 0; 
                    background: #fafbfc;
                    font-family: 'Inter', system-ui, -apple-system, sans-serif;
                    min-height: 100vh;
                    overflow-x: hidden;
                }
                .app-container {
                    min-height: 100vh;
                    display: flex;
                    flex-direction: column;
                }
                .main-content {
                    flex: 1;
                    padding: 2rem;
                    max-width: 1400px;
                    margin: 0 auto;
                    width: 100%;
                }
                .score-badge { 
                    display: inline-flex; 
                    align-items: center; 
                    padding: 8px 16px; 
                    border-radius: 12px; 
                    font-size: 12px; 
                    font-weight: 600;
                    border: 1px solid;
                    transition: all 0.2s ease;
                }
                .score-high { 
                    background-color: #ecfdf5;
                    color: #047857;
                    border-color: #a7f3d0;
                }
                .score-medium { 
                    background-color: #fffbeb;
                    color: #b45309;
                    border-color: #fde68a;
                }
                .score-low { 
                    background-color: #fef2f2;
                    color: #dc2626;
                    border-color: #fecaca;
                }
                .glass-card {
                    background: rgba(255, 255, 255, 0.95);
                    backdrop-filter: blur(10px);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
                }
                .gradient-text {
                    background: linear-gradient(135deg, #667eea, #764ba2);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                }
                .hover-lift {
                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                }
                .hover-lift:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
                }
                .pulse-animation {
                    animation: pulse 2s infinite;
                }
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.7; }
                }
                .shimmer {
                    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
                    background-size: 200% 100%;
                    animation: shimmer 1.5s infinite;
                }
                @keyframes shimmer {
                    0% { background-position: -200% 0; }
                    100% { background-position: 200% 0; }
                }
                .floating {
                    animation: floating 3s ease-in-out infinite;
                }
                @keyframes floating {
                    0%, 100% { transform: translateY(0px); }
                    50% { transform: translateY(-10px); }
                }
                .glow {
                    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
                }
                .backdrop-blur {
                    backdrop-filter: blur(10px);
                }
                .slide-in {
                    animation: slideIn 0.6s ease-out;
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(30px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .fade-in {
                    animation: fadeIn 0.8s ease-out;
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                .scale-in {
                    animation: scaleIn 0.4s ease-out;
                }
                @keyframes scaleIn {
                    from { opacity: 0; transform: scale(0.9); }
                    to { opacity: 1; transform: scale(1); }
                }
                .bounce-in {
                    animation: bounceIn 0.6s ease-out;
                }
                @keyframes bounceIn {
                    0% { opacity: 0; transform: scale(0.3); }
                    50% { opacity: 1; transform: scale(1.05); }
                    70% { transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
                .interactive-card {
                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                    cursor: pointer;
                }
                .interactive-card:hover {
                    transform: translateY(-8px) scale(1.02);
                    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
                }
                .pulse-glow {
                    animation: pulseGlow 2s infinite;
                }
                @keyframes pulseGlow {
                    0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
                    50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.6); }
                }
                .loading-shimmer {
                    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
                    background-size: 200% 100%;
                    animation: shimmer 1.5s infinite;
                }
                .success-bounce {
                    animation: successBounce 0.6s ease-out;
                }
                @keyframes successBounce {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.1); }
                    100% { transform: scale(1); }
                }
            </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

                function ScoreBadge({ score, showBreakdown = false }) {
                    const s = Number(score || 0);
                    const className = s >= 80 ? 'score-high' : s >= 50 ? 'score-medium' : 'score-low';
                    const label = s >= 80 ? 'Hot Lead' : s >= 50 ? 'Warm Lead' : 'Cold Lead';
                    
                    return (
                        <div className="flex items-center gap-2">
                            <span className={`score-badge ${className}`}>{s}</span>
                            {showBreakdown && (
                                <span className="text-xs text-gray-500">{label}</span>
                            )}
                        </div>
                    );
                }

        function FilterBar({ filters, onFiltersChange, onExport }) {
            const updateFilter = (key, value) => {
                onFiltersChange({ ...filters, [key]: value });
            };

            return (
                <div className="bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-100">
                    <div className="flex flex-col md:flex-row gap-6 items-end justify-between">
                        <div className="flex gap-4 flex-1">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Industry</label>
                                <input
                                    type="text"
                                    placeholder="e.g. SaaS, Tech, Finance"
                                    className="border border-gray-200 rounded-lg px-4 py-2 w-48 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-300"
                                    value={filters.industry}
                                    onChange={(e) => updateFilter('industry', e.target.value)}
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Region</label>
                                <input
                                    type="text"
                                    placeholder="e.g. US, EU, APAC"
                                    className="border border-gray-200 rounded-lg px-4 py-2 w-40 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-300"
                                    value={filters.region}
                                    onChange={(e) => updateFilter('region', e.target.value)}
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Min Score: {filters.minScore}</label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    className="w-32 accent-indigo-500"
                                    value={filters.minScore}
                                    onChange={(e) => updateFilter('minScore', parseInt(e.target.value))}
                                />
                            </div>
                        </div>
                        <div className="flex gap-3">
                            <button
                                className="px-4 py-2 border border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 rounded-lg transition-all duration-200 text-sm font-medium"
                                onClick={() => onFiltersChange({ industry: '', region: '', minScore: 0 })}
                            >
                                Reset
                            </button>
                            <button
                                className="px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white rounded-lg transition-all duration-200 text-sm font-medium shadow-sm hover:shadow-md"
                                onClick={onExport}
                            >
                                Export CSV
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function LeadTable({ leads, searchQuery, onSearchChange, sortKey, sortDir, onSort }) {
            const filtered = leads.filter(lead => {
                const matchesSearch = !searchQuery || 
                    lead.company_name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    lead.industry.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    lead.region.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesSearch;
            }).sort((a, b) => {
                const aVal = a[sortKey];
                const bVal = b[sortKey];
                if (sortDir === 'asc') return aVal > bVal ? 1 : -1;
                return aVal < bVal ? 1 : -1;
            });

            const handleSort = (key) => {
                if (sortKey === key) {
                    onSort(key, sortDir === 'asc' ? 'desc' : 'asc');
                } else {
                    onSort(key, 'asc');
                }
            };

            return (
                <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                    <div className="p-6 border-b border-gray-100">
                        <div className="flex items-center justify-between mb-4">
                            <h3 className="text-lg font-semibold text-gray-900">Leads ({filtered.length})</h3>
                        </div>
                        <input
                            type="text"
                            placeholder="Search leads..."
                            className="w-full border border-gray-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 hover:border-gray-300"
                            value={searchQuery}
                            onChange={(e) => onSearchChange(e.target.value)}
                        />
                    </div>
                    <div className="overflow-x-auto">
                        <table className="min-w-full divide-y divide-gray-100">
                            <thead className="bg-gray-50">
                                <tr>
                                    {['company_name', 'industry', 'region', 'revenue_estimate', 'score'].map(key => (
                                        <th
                                            key={key}
                                            onClick={() => handleSort(key)}
                                            className="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors duration-200"
                                        >
                                            {key.replace(/_/g, ' ')} {sortKey === key && (sortDir === 'asc' ? '↑' : '↓')}
                                        </th>
                                    ))}
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-100">
                                {filtered.map((lead, index) => (
                                    <tr key={index} className="hover:bg-gray-50 transition-colors duration-200">
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <div className="text-sm font-semibold text-gray-900">{lead.company_name}</div>
                                            <div className="text-sm text-gray-500">{lead.contact_email || 'No email'}</div>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{lead.industry}</td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{lead.region}</td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900">${Number(lead.revenue_estimate).toLocaleString()}</td>
                                        <td className="px-6 py-4 whitespace-nowrap">
                                            <ScoreBadge score={lead.score} />
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        }

                function InsightsChart({ leads }) {
                    const distribution = [
                        { range: '0-19', count: leads.filter(l => l.score >= 0 && l.score <= 19).length, color: 'bg-red-500' },
                        { range: '20-39', count: leads.filter(l => l.score >= 20 && l.score <= 39).length, color: 'bg-orange-500' },
                        { range: '40-59', count: leads.filter(l => l.score >= 40 && l.score <= 59).length, color: 'bg-yellow-500' },
                        { range: '60-79', count: leads.filter(l => l.score >= 60 && l.score <= 79).length, color: 'bg-blue-500' },
                        { range: '80-100', count: leads.filter(l => l.score >= 80 && l.score <= 100).length, color: 'bg-green-500' }
                    ];

                    const maxCount = Math.max(...distribution.map(d => d.count));
                    const totalLeads = leads.length;
                    const avgScore = totalLeads > 0 ? Math.round(leads.reduce((sum, lead) => sum + lead.score, 0) / totalLeads) : 0;
                    const hotLeads = leads.filter(l => l.score >= 80).length;
                    const warmLeads = leads.filter(l => l.score >= 50 && l.score < 80).length;
                    const coldLeads = leads.filter(l => l.score < 50).length;

                    return (
                        <div className="space-y-6">
                            <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                                <h2 className="text-lg font-semibold text-gray-900 mb-6">Score Distribution</h2>
                                <div className="space-y-4">
                                    {distribution.map((item, idx) => (
                                        <div key={idx} className="flex items-center">
                                            <div className="w-16 text-sm font-medium text-gray-600">{item.range}</div>
                                            <div className="flex-1 mx-4">
                                                <div className="bg-gray-100 rounded-full h-2">
                                                    <div
                                                        className={`${item.color} h-2 rounded-full transition-all duration-500`}
                                                        style={{ width: `${maxCount > 0 ? (item.count / maxCount) * 100 : 0}%` }}
                                                    ></div>
                                                </div>
                                            </div>
                                            <div className="w-8 text-sm font-semibold text-gray-900">{item.count}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                                <h2 className="text-lg font-semibold text-gray-900 mb-6">Lead Quality</h2>
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="text-center p-4 bg-emerald-50 rounded-lg border border-emerald-100">
                                        <div className="text-2xl font-bold text-emerald-600">{hotLeads}</div>
                                        <div className="text-sm font-medium text-gray-600">Hot Leads</div>
                                    </div>
                                    <div className="text-center p-4 bg-amber-50 rounded-lg border border-amber-100">
                                        <div className="text-2xl font-bold text-amber-600">{warmLeads}</div>
                                        <div className="text-sm font-medium text-gray-600">Warm Leads</div>
                                    </div>
                                    <div className="text-center p-4 bg-red-50 rounded-lg border border-red-100">
                                        <div className="text-2xl font-bold text-red-600">{coldLeads}</div>
                                        <div className="text-sm font-medium text-gray-600">Cold Leads</div>
                                    </div>
                                    <div className="text-center p-4 bg-indigo-50 rounded-lg border border-indigo-100">
                                        <div className="text-2xl font-bold text-indigo-600">{avgScore}</div>
                                        <div className="text-sm font-medium text-gray-600">Avg Score</div>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white border border-gray-200 rounded-lg p-6">
                                <h2 className="text-lg font-medium text-gray-900 mb-4">Scoring Factors</h2>
                                <div className="space-y-2 text-sm">
                                    <div className="flex justify-between">
                                        <span>Industry Potential</span>
                                        <span className="text-gray-500">0-25 pts</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>Company Size/Revenue</span>
                                        <span className="text-gray-500">0-25 pts</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>Contact Quality</span>
                                        <span className="text-gray-500">0-20 pts</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>Geographic Market</span>
                                        <span className="text-gray-500">0-15 pts</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span>Data Completeness</span>
                                        <span className="text-gray-500">0-15 pts</span>
                                    </div>
                                    <div className="flex justify-between border-t pt-2">
                                        <span className="font-medium">Total Score</span>
                                        <span className="font-medium text-gray-500">0-100 pts</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    );
                }

        function Dashboard() {
            const [leads, setLeads] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [filters, setFilters] = useState({ industry: '', region: '', minScore: 0 });
            const [searchQuery, setSearchQuery] = useState('');
            const [sortKey, setSortKey] = useState('score');
            const [sortDir, setSortDir] = useState('desc');

            useEffect(() => {
                fetch('http://localhost:5000/api/leads', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    mode: 'cors'
                })
                    .then(res => {
                        if (!res.ok) {
                            throw new Error(`HTTP error! status: ${res.status}`);
                        }
                        return res.json();
                    })
                    .then(data => {
                        setLeads(data || []);
                        setLoading(false);
                    })
                    .catch(err => {
                        console.error('Failed to fetch leads:', err);
                        setError(`Failed to load leads: ${err.message}. Make sure the backend server is running on http://localhost:5000`);
                        setLoading(false);
                    });
            }, []);

            const filteredLeads = leads.filter(lead => {
                const matchesIndustry = !filters.industry || 
                    lead.industry.toLowerCase().includes(filters.industry.toLowerCase());
                const matchesRegion = !filters.region || 
                    lead.region.toLowerCase().includes(filters.region.toLowerCase());
                const matchesScore = Number(lead.score || 0) >= Number(filters.minScore || 0);
                return matchesIndustry && matchesRegion && matchesScore;
            });

            const exportLeads = () => {
                const csv = [
                    'Company,Industry,Region,Revenue,Score,Email,Phone',
                    ...filteredLeads.map(lead => 
                        `${lead.company_name},${lead.industry},${lead.region},${lead.revenue_estimate},${lead.score},${lead.contact_email || ''},${lead.contact_phone || ''}`
                    )
                ].join('\n');
                
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'saasquatch_leads.csv';
                a.click();
                URL.revokeObjectURL(url);
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gray-50">
                        <nav className="bg-white border-b border-gray-100 w-full shadow-sm">
                            <div className="max-w-7xl mx-auto px-6 py-4">
                                <div className="flex items-center space-x-3">
                                    <div className="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm">
                                        <span className="text-white text-sm font-bold">S</span>
                                    </div>
                                    <div>
                                        <h1 className="text-xl font-semibold text-gray-900">SaaSquatch Leads</h1>
                                        <p className="text-sm text-gray-500">Lead Intelligence Platform</p>
                                    </div>
                                </div>
                            </div>
                        </nav>
                        <div className="max-w-7xl mx-auto px-6 py-8">
                            <div className="flex flex-col items-center justify-center min-h-[60vh]">
                                <div className="w-16 h-16 bg-gray-900 rounded-full flex items-center justify-center mb-6">
                                    <span className="text-2xl text-white">S</span>
                                </div>
                                <div className="text-2xl font-bold text-gray-900 mb-2">Loading Your Leads</div>
                                <div className="text-gray-600 mb-8">AI is analyzing lead quality...</div>
                                <div className="flex space-x-2">
                                    <div className="w-3 h-3 bg-gray-400 rounded-full animate-bounce"></div>
                                    <div className="w-3 h-3 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.1s'}}></div>
                                    <div className="w-3 h-3 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div className="min-h-screen bg-gray-50">
                        <nav className="bg-white border-b border-gray-100 w-full shadow-sm">
                            <div className="max-w-7xl mx-auto px-6 py-4">
                                <div className="flex items-center space-x-3">
                                    <div className="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm">
                                        <span className="text-white text-sm font-bold">S</span>
                                    </div>
                                    <div>
                                        <h1 className="text-xl font-semibold text-gray-900">SaaSquatch Leads</h1>
                                        <p className="text-sm text-gray-500">Lead Intelligence Platform</p>
                                    </div>
                                </div>
                            </div>
                        </nav>
                        <div className="max-w-7xl mx-auto px-6 py-8">
                            <div className="flex flex-col items-center justify-center min-h-[60vh]">
                                <div className="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-6">
                                    <span className="text-2xl text-white">⚠</span>
                                </div>
                                <div className="text-2xl font-bold text-gray-900 mb-2">Connection Error</div>
                                <div className="text-red-600 mb-4 max-w-md text-center">{error}</div>
                                <div className="text-gray-600 text-sm">Make sure the backend server is running on http://localhost:5000</div>
                                <button 
                                    onClick={() => window.location.reload()} 
                                    className="mt-6 px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white rounded-lg transition-colors duration-200"
                                >
                                    Retry Connection
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Minimal Navigation Bar */}
                    <nav className="bg-white border-b border-gray-100 w-full shadow-sm">
                        <div className="max-w-7xl mx-auto px-6 py-4">
                            <div className="flex items-center justify-between">
                                {/* Logo and Brand */}
                                <div className="flex items-center space-x-3">
                                    <div className="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm">
                                        <span className="text-white text-sm font-bold">S</span>
                                    </div>
                                    <div>
                                        <h1 className="text-xl font-semibold text-gray-900">SaaSquatch Leads</h1>
                                        <p className="text-sm text-gray-500">Lead Intelligence Platform</p>
                                    </div>
                                </div>
                                
                                {/* Action Buttons */}
                                <div className="flex items-center space-x-3">
                                    <button className="px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-all duration-200 text-sm font-medium">
                                        Analytics
                                    </button>
                                    <button className="px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white rounded-lg transition-all duration-200 text-sm font-medium shadow-sm hover:shadow-md">
                                        Settings
                                    </button>
                                </div>
                            </div>
                        </div>
                    </nav>
                    
                    {/* Main Content */}
                    <div className="max-w-7xl mx-auto px-6 py-8">
                        
                        {/* Page Header */}
                        <div className="mb-8">
                            <h1 className="text-2xl font-semibold text-gray-900 mb-2">Lead Management</h1>
                            <p className="text-gray-600">Manage and analyze your lead pipeline</p>
                        </div>
                        
                        {/* Stats Cards */}
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <div className="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 hover:border-emerald-200 group cursor-pointer">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <div className="text-3xl font-bold text-gray-900 group-hover:text-emerald-600 transition-colors duration-300">
                                            {filteredLeads.filter(l => l.score >= 80).length}
                                        </div>
                                        <div className="text-sm font-medium text-gray-600 mt-1">Hot Leads</div>
                                        <div className="text-xs text-gray-500 mt-1">Score 80+</div>
                                    </div>
                                    <div className="w-12 h-12 bg-gradient-to-br from-emerald-100 to-emerald-50 rounded-xl flex items-center justify-center group-hover:from-emerald-200 group-hover:to-emerald-100 transition-all duration-300">
                                        <div className="w-4 h-4 bg-emerald-500 rounded-full"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 hover:border-amber-200 group cursor-pointer">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <div className="text-3xl font-bold text-gray-900 group-hover:text-amber-600 transition-colors duration-300">
                                            {filteredLeads.filter(l => l.score >= 50 && l.score < 80).length}
                                        </div>
                                        <div className="text-sm font-medium text-gray-600 mt-1">Warm Leads</div>
                                        <div className="text-xs text-gray-500 mt-1">Score 50-79</div>
                                    </div>
                                    <div className="w-12 h-12 bg-gradient-to-br from-amber-100 to-amber-50 rounded-xl flex items-center justify-center group-hover:from-amber-200 group-hover:to-amber-100 transition-all duration-300">
                                        <div className="w-4 h-4 bg-amber-500 rounded-full"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 hover:border-red-200 group cursor-pointer">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <div className="text-3xl font-bold text-gray-900 group-hover:text-red-600 transition-colors duration-300">
                                            {filteredLeads.filter(l => l.score < 50).length}
                                        </div>
                                        <div className="text-sm font-medium text-gray-600 mt-1">Cold Leads</div>
                                        <div className="text-xs text-gray-500 mt-1">Score &lt;50</div>
                                    </div>
                                    <div className="w-12 h-12 bg-gradient-to-br from-red-100 to-red-50 rounded-xl flex items-center justify-center group-hover:from-red-200 group-hover:to-red-100 transition-all duration-300">
                                        <div className="w-4 h-4 bg-red-500 rounded-full"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 hover:border-indigo-200 group cursor-pointer">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <div className="text-3xl font-bold text-gray-900 group-hover:text-indigo-600 transition-colors duration-300">
                                            {filteredLeads.length > 0 ? Math.round(filteredLeads.reduce((sum, lead) => sum + lead.score, 0) / filteredLeads.length) : 0}
                                        </div>
                                        <div className="text-sm font-medium text-gray-600 mt-1">Avg Score</div>
                                        <div className="text-xs text-gray-500 mt-1">Overall Quality</div>
                                    </div>
                                    <div className="w-12 h-12 bg-gradient-to-br from-indigo-100 to-indigo-50 rounded-xl flex items-center justify-center group-hover:from-indigo-200 group-hover:to-indigo-100 transition-all duration-300">
                                        <div className="w-4 h-4 bg-indigo-500 rounded-full"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    <div className="slide-in" style={{animationDelay: '0.4s'}}>
                        <FilterBar 
                            filters={filters} 
                            onFiltersChange={setFilters} 
                            onExport={exportLeads} 
                        />
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div className="lg:col-span-2 slide-in" style={{animationDelay: '0.5s'}}>
                            <LeadTable 
                                leads={filteredLeads}
                                searchQuery={searchQuery}
                                onSearchChange={setSearchQuery}
                                sortKey={sortKey}
                                sortDir={sortDir}
                                onSort={(key, dir) => { setSortKey(key); setSortDir(dir); }}
                            />
                        </div>
                        <div className="slide-in" style={{animationDelay: '0.6s'}}>
                            <InsightsChart leads={filteredLeads} />
                        </div>
                    </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>
